
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>MDInsider ♥ Open Source</title>
    
    <meta name="author" content="MDInsider, Inc.">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="shortcut icon" href="/assets/themes/gilt/img/favicon.ico">
    <link href="/atom.xml" type="application/atom+xml" rel="alternate" title="Sitewide ATOM Feed">
    <link href="/rss.xml" type="application/rss+xml" rel="alternate" title="Sitewide RSS Feed">

    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="/assets/themes/gilt/css/github-light.css">
    <link rel="stylesheet/less" href="/assets/themes/gilt/css/style.less">

    <script src="//cdnjs.cloudflare.com/ajax/libs/less.js/2.5.0/less.min.js"></script>
    <script src="/assets/themes/gilt/js/jekyll-search.js"></script>
    <script>
      var searchJsonPath = '/search.json',
        searchTemplate = '<menuitem><a href="{url}">{title}</a></menuitem>';
    </script>

    <script>
      (function() {
        var shr = document.createElement('script');
        shr.setAttribute('data-cfasync', 'false');
        shr.src = '//dsms0mj1bbhn4.cloudfront.net/assets/pub/shareaholic.js';
        shr.type = 'text/javascript'; shr.async = 'true';
        shr.onload = shr.onreadystatechange = function() {
          var rs = this.readyState;
          if (rs && rs != 'complete' && rs != 'loaded') return;
          var site_id = 'aed9a48340b830002b74641e868bfcec';
          try { Shareaholic.init(site_id); } catch (e) {}
        };
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(shr, s);
      })();
    </script>

  </head>
  <body>

    <div id="body">
      <header>
        <nav>
  <span>
    <a href="http://www.mdinsider.com/careers/">Join MD Insider Tech</a>
    <a href="http://mdinsider.com">MDInsider.com</a>
  </span>
</nav>

        <section id="subnav">
          <span>
            <a class="categories">Categories</a>
            <p class="social github"><a href="https://github.com/mdinsider" title="Github"></a></p>
            <p class="social twitter"><a href="https://twitter.com/mdinsidercorp" title="Twitter"></a></p>
            <p class="social facebook"><a href="https://www.facebook.com/mdinsider" title="Facebook"></a></p>
            <!-- <p class="social google"><a href="https://plus.google.com/109372432870680352734" title="Google+"></a></p> -->
            <span id="search">
              <input type="search" placeholder="Search …" title="Search for:" />
            </span>
            <menu id="categories-menu">
            
            
            
              <menuitem>
                <a href="/categories.html#AWS-ref">AWS</a>
              </menuitem>
            
              <menuitem>
                <a href="/categories.html#Leadership-ref">Leadership</a>
              </menuitem>
            
              <menuitem>
                <a href="/categories.html#agile-ref">agile</a>
              </menuitem>
            
              <menuitem>
                <a href="/categories.html#analytics-ref">analytics</a>
              </menuitem>
            
              <menuitem>
                <a href="/categories.html#aws-ref">aws</a>
              </menuitem>
            
              <menuitem>
                <a href="/categories.html#blog-ref">blog</a>
              </menuitem>
            
              <menuitem>
                <a href="/categories.html#conferences-ref">conferences</a>
              </menuitem>
            
              <menuitem>
                <a href="/categories.html#culture-ref">culture</a>
              </menuitem>
            
              <menuitem>
                <a href="/categories.html#deployment-ref">deployment</a>
              </menuitem>
            
              <menuitem>
                <a href="/categories.html#front-end-ref">front-end</a>
              </menuitem>
            
              <menuitem>
                <a href="/categories.html#mobile-ref">mobile</a>
              </menuitem>
            
              <menuitem>
                <a href="/categories.html#scala-ref">scala</a>
              </menuitem>
            
              <menuitem>
                <a href="/categories.html#swift-ref">swift</a>
              </menuitem>
            
              <menuitem>
                <a href="/categories.html#tech-ref">tech</a>
              </menuitem>
            
              <menuitem>
                <a href="/categories.html#tvOS-ref">tvOS</a>
              </menuitem>
            
            </menu>
            <menu id="search-results">
            </menu>
          </span>
        </section>
        <a class="logo" href="/" class="logo"></a>
        <h1>Tech Blog</h1>
      </header>
      <section id="main">

<div class="page-header">
  <h1> </h1>
</div>

<div class="row">
  <div class="col-xs-12">
    

<article>
  <span class="separator">MD Insider Tech</span>
  <h1><a href="/2012/02/10/nosql-in-the-real-world-the-video-pics-and">NoSQL in the Real World - The Video, Pics and Slides</a></h1>
  
  <header>
    
    <time>10 February 2012</time>
    
  </header>

  <div class="content">
    <p>Thanks to everyone who came to Gilt Tech&rsquo;s latest tech talk, <a href="http://nosql-tech-talk.eventbrite.com/" target="_blank">NoSQL in the Real World</a>.</p>
<p>We had a great series of speakers including:</p>
<ul><li>Ara Anjargolian - Redis</li>
<li>Matt Parker - CouchDB</li>
<li>Sean Cribbs - Riak</li>
<li>Edward Capriolo - Cassandra</li>
<li>Luke Gotszling  - MongoDB</li>
</ul><p>Huge thanks to <a href="http://www.linkedin.com/in/rockmanha" target="_blank">Rockman</a> and <a href="http://www.linkedin.com/pub/maureen-wu/24/758/306" target="_blank">Maureen</a> for organizing the event, and to AOL ventures for sponsoring and hosting.</p>
<p>Enjoy out the video &hellip;</p>
<p><iframe frameborder="0" height="270" src="http://player.vimeo.com/video/36496024" width="480"></iframe></p>
<p>The Pictures &hellip;</p>
<p>
<object height="360" width="480">
<param name="flashvars" value="offsite=true&amp;lang=en-us&amp;page_show_url=%2Fphotos%2Fgilttech%2Fsets%2F72157629257068993%2Fshow%2F&amp;page_show_back_url=%2Fphotos%2Fgilttech%2Fsets%2F72157629257068993%2F&amp;set_id=72157629257068993&amp;jump_to="><param name="movie" value="http://www.flickr.com/apps/slideshow/show.swf?v=109615"><param name="allowFullScreen" value="true"></object>
</p>
<p>The Slides &hellip;</p>
<p>Riak</p>
<div id="__ss_11512791"><iframe frameborder="0" height="400" marginheight="0" marginwidth="0" scrolling="no" src="http://www.slideshare.net/slideshow/embed_code/11512791" width="480"></iframe></div>
<p>Redis</p>
<div id="__ss_11512694"><iframe frameborder="0" height="400" marginheight="0" marginwidth="0" scrolling="no" src="http://www.slideshare.net/slideshow/embed_code/11512694" width="480"></iframe></div>
<p>Cassandra</p>
<div id="__ss_11512693"><iframe frameborder="0" height="400" marginheight="0" marginwidth="0" scrolling="no" src="http://www.slideshare.net/slideshow/embed_code/11512693" width="480"></iframe></div>
<p>Membase and MongoDB</p>
<div id="__ss_11512692"><iframe frameborder="0" height="400" marginheight="0" marginwidth="0" scrolling="no" src="http://www.slideshare.net/slideshow/embed_code/11512692" width="480"></iframe></div>
<p>CouchDB</p>
<div id="__ss_11512690"><iframe frameborder="0" height="400" marginheight="0" marginwidth="0" scrolling="no" src="http://www.slideshare.net/slideshow/embed_code/11512690" width="480"></iframe></div>

  </div>
  <div class="shareaholic-canvas" data-app="share_buttons" data-app-id="18213622"></div>

  

  <span class="separator">Tech</span>
</article>

<article>
  <span class="separator">MD Insider Tech</span>
  <h1><a href="/2012/02/08/gilt-public-api-launched">Gilt Public API Launched</a></h1>
  
  <header>
    
    <time>08 February 2012</time>
    
  </header>

  <div class="content">
    <p>I&rsquo;m really excited to tell you that we&rsquo;ve launched our Public API today, providing programmatic access to a constantly-updating collection of flash sales full of the usual kind of awesome stuff we offer on Gilt&rsquo;s stores.</p>

<p>We held an internal hackathon two weeks ago and saw some really interesting projects come out of just a day&rsquo;s work and the brainpower of one room of (admittedly super-smart and obviously very handsome) Gilt engineers, but I can only imagine where things can go now that we&rsquo;ve got the whole developer community armed and ready.</p>

<p>If you&rsquo;re not like me and don&rsquo;t just get pumped up whenever you see a new API you can <code>curl</code>, maybe I can sweeten the deal a bit— we&rsquo;re in the process of putting the finishing touches on an affiliate marketing program, meaning that you can earn a cut of any money we make when your app leads to a purchase on Gilt. You can start building your project now and we&rsquo;ll have the details on how to sign up and integrate this into your work soon.</p>

<p>The <a href="http://dev.gilt.com" target="_blank">Gilt Developer Portal</a> is your go-to site to read up on how to use our API and apply for API keys for your applications. We&rsquo;ll be adding more information to that site regularly as we add new features and content to the Public API. Exposing sales and products is just a first step; we&rsquo;ve got a lot of exciting ideas in the works, so stay tuned!</p>

  </div>
  <div class="shareaholic-canvas" data-app="share_buttons" data-app-id="18213622"></div>

  
  <section class="tags">


    

    
      
    <a href="/tags.html#api-ref">api <span>7</span></a>
      
    

  </section>
  

  <span class="separator">Tech</span>
</article>

<article>
  <span class="separator">MD Insider Tech</span>
  <h1><a href="/2012/02/07/old-browsers-in-ecommerce-what-to-do-with-ie6">Old Browsers in eCommerce: What to do with IE6?</a></h1>
  
  <header>
    
    <time>07 February 2012</time>
    
  </header>

  <div class="content">
    <p>In a humanitarian effort to improve developer quality of life, we at Gilt recently stopped supporting Internet Explorer 6. This means we no longer use, develop or <a href="http://i.imgur.com/yMkRc.png" target="_blank">test for the browser</a>. Given the <a href="http://www.ie6countdown.com/" target="_blank">small and shrinking population of IE6 users</a> and the <a href="http://windowsteamblog.com/ie/b/ie/archive/2011/12/15/ie-to-start-automatic-upgrades-across-windows-xp-windows-vista-and-windows-7.aspx" target="_blank">auto-upgrades planned for this year</a>, we felt that it is worth our developers&rsquo; happiness (and sanity) to abandon support efforts. Our FEET (Front End Engineering Team) are certainly happy to let go of &rsquo;[if IE 6]&rsquo; conditional comment hackery and other ugly shoehorning techniques.</p>
<p>We found ourselves wondering&hellip; <strong>Would IE6 users have a better shopping experience if we redirected them to the minimalistic <a href="http://m.gilt.com" target="_blank">mobile version of gilt.com</a>? Could the simple no frills layout designed for mobile devices just might be an improvement over the fully-featured yet unsupported site for IE6 users?</strong> Let&rsquo;s walk through the exercise of answering this question, from data collection to results summarization.</p>
<p><strong>Split Testing</strong></p>
<p>Most often the best way to answer a question is with an experiment. In the context of Gilt and e-commerce, we find split testing to be an effective method for assessing the effect of changes (treatments) to the user shopping experience, be it the reorganization of a sale page or a modification to our checkout flow. Controlled split tests allow us to gauge the impact on our KPIs with statistical confidence, relying less on opinion and more on evidence-based reasoning.</p>
<p>The idea is to separate a representative subset of the user-base to expose the change to and assess the effects of the change on this smaller group before making the decision to roll out to all visitors. This &lsquo;test&rsquo; subset should be paired with a mutually exclusive 'control&rsquo; subset. Both subsets should be randomly sampled such that they are characteristically the same as each other. We may or may not choose to limit the testing to a segment of our users. For instance, we may want to limit the test to NY members, in which case our 'test&rsquo; and 'control&rsquo; groups should only be chosen from members in the NY population. </p>
<p><strong>Comparing Conversion Rates</strong></p>
<p>If the redirect has any notable effect on the user experience, it should show in the proportion of buyers-to-visitors, a.k.a. 'visitor conversion rate&rsquo;. Conversion rates are proportions and from a statistical point of view are quite easy to work with. We will be comparing the conversion rate of a 'Test&rsquo; group that sees the mobile site to a 'Control&rsquo; group that sees the regular site. For sake of brevity, I will not go into detail about the nuances of measuring our numerous other site metrics (revenue, dwell time, drop-off&hellip; etc.) and test scenarios (multi-variate, overlapping, longitudinal&hellip; etc.).</p>
<p>On a high-level, we want to accomplish the following steps:</p>
<ol><li>Segment out our IE6 visitors - our 'IE6 base&rsquo;.</li>
<li>Randomly sample a representative test group from the IE6 base and redirect them to m.gilt.com.</li>
<li>Measure the difference in 'visitor conversion&rsquo; between the test group and the remainder of the IE6 base (control).</li>
</ol><p>Test or control group membership is tracked via a randomly assigned 'partition&rsquo; number (integer) that is issued on first visit in a cookie and persisted thereafter in our operational database. We can then redirect IE6 users to m.gilt.com based on the partition they have and whether the user-agent string indicates they are running IE6. The mobile version of our site is very lean and lacks javascript tagging for tracking site interactions. As a result, we will need to fall back to some good old ad-hoc data munging from our server logs and match up against our OLTP database to piece together the conversion rates per group.</p>
<p>We can segment out IE6 visits quite easily by checking the GET request user-agent string in our server logs. The string should contain 'MSIE 6.0&rsquo;.</p>
<p>Example user-agent string: &rsquo;<em class="t"><em class="t"><em class="t">Mozilla</em>/<em class="t">4</em></em>.<em class="t">0</em></em><span> (</span><em class="t">compatible</em><span>; </span><em class="t a"><em class="t">MSIE</em> <em class="t"><em class="t">6</em>.<em class="t">0</em></em></em><span>; </span><em class="t">Windows</em><span> </span><em class="t">NT</em><span> </span><em class="t"><em class="t">5</em>.<em class="t">1</em></em><span>)&rsquo;.</span> </p>
<p>Splunk is a great tool for efficiently parsing and aggregating statistics from log files. We can use it find unique IE6 visitors by day (our IE6 base group) with the following query:</p>
<p>Splunk query 1 (output filename: all_ie6_users.csv):</p>
<pre>host="olb*" guid "compatible; MSIE 6.0" | stats count by guid, date_mday, date_month
</pre>
<p>Half of these users belong to our test group and were randomly sectioned out and redirected to mobile. For this test we added logging to allow us to find those visitors from the test group that were redirected with the search string 'IE6 mobile redirect&rsquo;.</p>
<p>Splunk query 2 (output filename: test_ie6_users.csv):</p>
<pre>host="olb*" guid "IE6 mobile redirect" | stats count by guid, date_mday, date_month
</pre>
<p><em>Note: &ldquo;olb*&rdquo; limits the search to our public facing load balancers that are taking care of the redirection and 'guid&rsquo; is a unique identifier for each user.</em></p>
<p>The flat-files returned by Splunk are structured like so:</p>
<pre> guid             | month_day |  month   |  count  
------------------+-----------+----------+---------
 00e020bc-ccc8... |         3 | december |      35
 00ea4710-5be5... |         2 | december |      12
 0123d860-34aa... |         1 | december |       8
</pre>
<p>The results of these queries tell us who belongs in our test and control groups and when they visited. Users from Query 2 are 'Test&rsquo; and users from Query 1 that were not also in Query 2 are 'Control&rsquo;. At this point I will move these files into temporary tables on a copy of our Postgres transactional database.</p>
<pre>create temp table all_ie6_users (guid varchar(500), month_day integer, month varchar(50), count integer); 
\copy all_ie6_users from all_ie6_users.csv with delimiter ',' csv header 
create temp table test_ie6_users (guid varchar(500), month_day integer, month varchar(50), count integer);
\copy test_ie6_users from test_ie6_users.csv with delimiter ',' csv header
</pre>
<p>These two tables can be combined to produce one recordset, with a label for 'Test&rsquo; or 'Control&rsquo; and a standard date timestamp.</p>
<pre>create temp table labeled_ie6_users as
select
  date(all_ie6_users.month || ' ' || all_ie6_users.month_day || ', 2011') as day_timestamp,
  (case when test_ie6_users.guid is null then 'Control' else 'Test' end) as test_group,
  all_ie6_users.guid
from all_ie6_users left join test_ie6_users
  on all_ie6_users.guid = test_ie6_users.guid
  and all_ie6_users.month_day = test_ie6_users.month_day
  and all_ie6_users.month = test_ie6_users.month;

select * from labeled_ie6_users limit 3;
 test_group |    day_timestamp    | guid             
------------+---------------------+------------------
 Test       | 2011-12-01 00:00:00 | 00e020bc-ccc8... 
 Control    | 2011-12-02 00:00:00 | 00ea4710-5be5... 
 Control    | 2011-12-02 00:00:00 | 0123d860-34aa... 
</pre>
<p>Our ingredients in place, we can now calculate conversion rates per group by cross-referencing the guids and dates with our transaction records and counting unique buyers and visitors per day. These daily counts are then aggregated into a final 'Daily Visitor Conversion Rate&rsquo; per test group. <em>Note, a visitor/buyer is only counted once per day even if they visit/purchase multiple times, a bit of precision lost because we lack mobile site page view data.</em></p>
<pre> test_group | buyers | visitors | conversion_rate
------------+--------+----------+-------------------
 Test       | 1154   | 36794    | .03136381
 Control    | 1749   | 47275    | .0369963

Basis Point Difference: (.03136381 - .0369963) = -0.00563249
% Lift, Test over Control: -0.00563249/.0369963 = -0.1522447 = -15.22%
</pre>
<p>The &rsquo;% Lift&rsquo; value is what we really care about. It tells us that 15.22% fewer daily visitors from the test group made a purchase relative to the control group.</p>
<p><strong>Do we trust that this difference has anything to do with the redirect treatment? How do we know that it is not just random noise?</strong></p>
<p>We can calculate a '95% confidence interval&rsquo; to quantify a range where the 'real&rsquo; difference in conversion is likely to be. A confidence interval provides us with a lower and upper bound on where we would expect the difference in conversion rate to fall if we continued the test indefinitely. The more evidence (data) we have, the narrower the confidence interval. The width of the interval is a function of the size of our sample (# visitors) and the magnitude of the absolute difference between our test and control proportions (Lift %). With a larger sample and/or absolute difference, we get a tighter range. For example, a 10% difference between two samples of 10M observations will have a much narrower interval than a 1% difference between two samples of 100 observations.</p>
<p><strong>Calculating a 95% Confidence Interval</strong></p>
<p><a href="http://www.rproject.org" target="_blank">R is an open source statistical computing language</a> (technically a dialect of S-Plus) with a robust collection of libraries. Below is some R code for producing confidence limits around the difference of two proportions. We make use of the handy <a href="http://stat.ethz.ch/R-manual/R-patched/library/stats/html/prop.test.html" target="_blank">prop.test()</a> (Proportions Test) function for the heavy lifting in our calculation.</p>
<pre>test_numerator &lt;- 1154
test_denominator &lt;- 36794
ctrl_numerator &lt;- 1749
ctrl_denominator &lt;- 47275
test_rate = test_numerator/test_denominator
ctrl_rate = ctrl_numerator/ctrl_denominator


model &lt;- prop.test(x=c(as.numeric(test_numerator),as.numeric(ctrl_numerator)), n=c(as.numeric(test_denominator),as.numeric(ctrl_denominator)), conf.level = .95, correct=F)

model_coef &lt;- (model$estimate[1] - model$estimate[2]) / model$estimate[2]

prop_results &lt;-
  data.frame(
   test_value = test_rate,
   ctrl_value = ctrl_rate,
   test_lift = model_coef,
   conf_int_low = model$conf.int[1]/model$estimate[2],
   conf_int_hi = model$conf.int[2]/model$estimate[2],
   row.names = NULL
 )

&gt; prop_results
  test_value ctrl_value  test_lift conf_int_low conf_int_hi
1 0.03136381  0.0369963 -0.1522447   -0.2194746 -0.08501468
</pre>
<p><strong>Final Results:</strong></p>
<pre><strong>
     Test Visitor Conversion Rate:  3.136% (1154/36794)
  Control Visitor Conversion Rate:  3.7% (1749/47275)
         Test Lift over Control %:  -15.224 %
Test Lift 95% Confidence Interval:  [-21.947% to -8.501%]
</strong>
<p><img src="http://media.tumblr.com/tumblr_lyu2zziFx81r6iuv3.png"/></p>
</pre>
<p>Based on the results, we can be fairly certain that IE6 users redirected to our mobile site buy less often. 8.5% - 22% fewer visitors make a purchase if pointed to the mobile site. In stats lingo, our result is 'significant&rsquo; at 95% confidence because 0 is not between -.22 and -.085. In other words, we are 95% confident that the difference between test and control is not positive. If you remember p-values from statistics 101, a 95% confidence interval that does not include 0 is equivalent to a p-value &lt; 0.05. Not only can we say the effect is significantly negative but we can also speak to just how negative the effect is, which is lacking in the typical <a href="http://theoryandscience.icaap.org/content/vol4.1/02_denis.html" target="_blank">NHST approach</a> to testing which gives you a yes/no indication of difference rather than a magnitude.</p>
<p>Keep in mind, there&rsquo;s no free lunch and intepretting results can be tricky. A counterintuitive result may leave you with more unanswered questions than you started with and 'significant&rsquo; does not necessarily mean 'important&rsquo; if the magnitude is trivial. Nonetheless, doing the work of interpreting the data is a worthwhile learning experience and a robust split testing methodology is an invaluable tool for decision making. When working in teams, everyone has an opinion but as the statistician W. Edwards Deming is often quoted, “In God we trust; all others must bring data.”</p>
<p>Read on for more detail on how the proportions test works with sample code&hellip;</p>
<!-- more -->
<p>Now you may be wondering what exactly is going on behind the scenes for the prop.test() function to produce our confidence interval. The calculation is fairly straightforward and can be implemented in virtually any language capable of simple math.</p>
<p>Components:</p>
<ol><li>Z-score = 1.96 for 95% confidence (if significance is being calculated repeatedly, you will want to correct for multiple comparisons with something like a <a href="http://en.wikipedia.org/wiki/Bonferroni_correction" target="_blank">Bonferroni correction</a>) </li>
<li>Test Numerator = #buyers from the test group</li>
<li>Test Denominator = #visitors from the test group</li>
<li>Control Numerator = #buyers from the control group</li>
<li>Control Denominator = #visitors from the control group</li>
</ol><p>Here is a decomposition of what the prop.test() is doing in R, borrowed from the source code and simplified for our use case:</p>
<pre>  test_numerator &lt;- 1154
  test_denominator &lt;- 36794
  ctrl_numerator &lt;- 1749
  ctrl_denominator &lt;- 47275
  test_rate = test_numerator/test_denominator
  ctrl_rate = ctrl_numerator/ctrl_denominator

  x=c(as.numeric(test_numerator),as.numeric(ctrl_numerator))
  n=c(as.numeric(test_denominator),as.numeric(ctrl_denominator))
  conf.level = .95
  zscore = qnorm((1 + conf.level)/2)

  estimate &lt;- x/n

  DELTA &lt;- estimate[1L] - estimate[2L]
  WIDTH &lt;- zscore * sqrt(sum(estimate * (1 - estimate)/n)) + 0 * sum(1/n)
  conf.int &lt;- c(max(DELTA - WIDTH, -1), min(DELTA + WIDTH, 1))

  model_coef &lt;- (estimate[1] - estimate[2]) / estimate[2]

  prop_results &lt;-
    data.frame(
      test_value = test_rate,
      ctrl_value = ctrl_rate,
      test_lift = model_coef,
      conf_int_low = conf.int[1]/estimate[2],
      conf_int_hi = conf.int[2]/estimate[2],
      row.names = NULL
    )

&gt; prop_results
  test_value ctrl_value  test_lift conf_int_low conf_int_hi
1 0.03136381  0.0369963 -0.1522447   -0.2194746 -0.08501468
</pre>
<p>Ported to Java (using Apache Commons Math):</p>
<pre>import org.apache.commons.math.MathException;
import org.apache.commons.math.distribution.NormalDistribution;
import org.apache.commons.math.distribution.NormalDistributionImpl;
...

long test_numerator = 1154;
long test_denominator = 36794;
long ctrl_numerator = 1749;
long ctrl_denominator = 47275;

double confidence = .95;

double test_rate = new Long(test_numerator).doubleValue()/ new Long(test_denominator).doubleValue();
double test_std = test_rate*(1-test_rate)/ new Long(test_denominator).doubleValue();

double ctrl_rate = new Long(ctrl_numerator).doubleValue()/ new Long(ctrl_denominator).doubleValue();
double ctrl_std = ctrl_rate*(1-ctrl_rate)/ctrl_denominator;

double delta = test_rate - ctrl_rate;
double test_lift = delta/ctrl_rate;
double conf_plus_one = confidence + 1;

try {
	NormalDistribution n = new NormalDistributionImpl();
	double qwidth = n.inverseCumulativeProbability(conf_plus_one/2);
	double width = qwidth*Math.sqrt(ctrl_std+test_std);
	double conf_int_low = Math.max(delta - width,-1)/ctrl_rate;
	double conf_int_hi = Math.min(delta + width,1)/ctrl_rate;

} catch (IllegalArgumentException e) {
	e.printStackTrace();
} catch (MathException e) {
	e.printStackTrace();
}

...
</pre>
<p>And Postgres SQL (not for the faint of heart!):</p>
<pre>\set test_numerator 1154::float<!-- br-->
\set test_denominator 36794::float<!-- br-->
\set ctrl_numerator 1749::float<!-- br-->
\set ctrl_denominator 47275::float<!-- br-->
<!-- br-->
select<!-- br-->
  :test_numerator/:test_denominator as test_value,<!-- br-->
  :ctrl_numerator/:ctrl_denominator as ctrl_value,<!-- br-->
  ((:test_numerator/:test_denominator) - (:ctrl_numerator/:ctrl_denominator))/<!-- br-->
  (:ctrl_numerator/:ctrl_denominator) as test_lift,<!-- br-->
  greatest(<!-- br-->
    (:test_numerator/:test_denominator) - (:ctrl_numerator/:ctrl_denominator)<!-- br-->
      - (<!-- br-->
        -- z-score for 95% CI<!-- br-->
        1.959964*sqrt(<!-- br-->
          (<!-- br-->
            (:test_numerator/:test_denominator)<!-- br-->
              *(1-(:test_numerator/:test_denominator))/<!-- br-->
                :test_denominator<!-- br-->
          ) + (<!-- br-->
            (:ctrl_numerator/:ctrl_denominator)<!-- br-->
              *(1-(:ctrl_numerator/:ctrl_denominator))/<!-- br-->
                :ctrl_denominator<!-- br-->
          )<!-- br-->
        )<!-- br-->
      )<!-- br-->
  ,-1)/(:ctrl_numerator/:ctrl_denominator) as conf_int_low_95,<!-- br-->
  least(<!-- br-->
    (:test_numerator/:test_denominator) - (:ctrl_numerator/:ctrl_denominator)<!-- br-->
      + (<!-- br-->
        -- z-score for 95% CI<!-- br-->
        1.959964*sqrt(<!-- br-->
          (<!-- br-->
            (:test_numerator/:test_denominator)<!-- br-->
              *(1-(:test_numerator/:test_denominator))/<!-- br-->
                :test_denominator<!-- br-->
          ) + (<!-- br-->
            (:ctrl_numerator/:ctrl_denominator)<!-- br-->
              *(1-(:ctrl_numerator/:ctrl_denominator))/<!-- br-->
                :ctrl_denominator<!-- br-->
          )<!-- br-->
        )<!-- br-->
      )<!-- br-->
  ,1)/(:ctrl_numerator/:ctrl_denominator) as conf_int_hi_95;
</pre>

  </div>
  <div class="shareaholic-canvas" data-app="share_buttons" data-app-id="18213622"></div>

  

  <span class="separator">Tech</span>
</article>

<article>
  <span class="separator">MD Insider Tech</span>
  <h1><a href="/2012/01/20/the-gilt-tech-shirts-are-here-if-you-love-bacon">the gilt tech shirts are here if you love bacon</a></h1>
  
  <header>
    
    <time>20 January 2012</time>
    
  </header>

  <div class="content">
    <img src="/tumblr_files/tumblr_ly2gujpJXa1qgexq2o1_400.png"/><br/><p>The Gilt Tech shirts are here!</p>
<p>If you love bacon spearing <a href="https://scribe.twitter.com/#!/markwunsch/status/129632361074802688" target="_blank">narwhals</a>, we might have the perfect shirt for you.</p>
<p>See all <a href="http://twitter.com/travelbugbites" target="_blank">Lauren</a>&rsquo;s awesome designs on the <a href="http://gilttech.spreadshirt.com/" target="_blank">Gilt Tech Shirt Store</a>.</p>

  </div>
  <div class="shareaholic-canvas" data-app="share_buttons" data-app-id="18213622"></div>

  

  <span class="separator">Tech</span>
</article>

<article>
  <span class="separator">MD Insider Tech</span>
  <h1><a href="/2012/01/18/nosql-in-the-real-world">NoSQL in the Real World</a></h1>
  
  <header>
    
    <time>18 January 2012</time>
    
  </header>

  <div class="content">
    <div>
<p>For the last couple of years the interwebs have been abuzz with discussion on the relative merits of NoSQL database technology, but how has it performed in real world deployments?</p>
<p>Please join us for the second of the Gilt technical meetups to hear prominent local technology companies present on their experiences using Redis, Cassandra, MongoDB, CouchDB and Riak in production environments.</p>
<p>The event takes place on Wednesday, February 8th at 6pm. It&rsquo;s free of charge on a first come first served basis. We expect it to sell out so reserve your spot early!</p>
<p>See details and sign up at <a href="http://nosql-tech-talk.eventbrite.com" target="_blank">http://nosql-tech-talk.eventbrite.com</a></p>
</div>

  </div>
  <div class="shareaholic-canvas" data-app="share_buttons" data-app-id="18213622"></div>

  

  <span class="separator">Tech</span>
</article>

<article>
  <span class="separator">MD Insider Tech</span>
  <h1><a href="/2012/01/17/no-title">no title</a></h1>
  
  <header>
    
    <time>17 January 2012</time>
    
  </header>

  <div class="content">
    <img src="/tumblr_files/tumblr_lxx5s5CcHX1qgexq2o1_400.gif"/><br/>

  </div>
  <div class="shareaholic-canvas" data-app="share_buttons" data-app-id="18213622"></div>

  
  <section class="tags">


    

    
      
    <a href="/tags.html#gif-ref">gif <span>1</span></a>
      
    

  </section>
  

  <span class="separator">Tech</span>
</article>

<article>
  <span class="separator">MD Insider Tech</span>
  <h1><a href="/2011/12/12/my-time-at-gilt">My Time at Gilt</a></h1>
  
  <header>
    
    <time>12 December 2011</time>
    
  </header>

  <div class="content">
    <p class="MsoNormal">I arrived at 2 Park Ave on the first day of my internship not quite sure what I was getting myself into.  I had just finished my sophomore year at Dartmouth and was looking forward to my first time living in New York City.  My sophomore year was packed with computer science.  I had taken the notorious software design and algorithm design courses, I was doing research with the chair of the Dartmouth computer science department, and now, I thought as I exited the elevator on the fourth floor, surely I was ready for the industry.</p>
<p class="MsoNormal">My first experience working with the Distribution team was a two day long architecture plan-a-thon for the new messaging system at Gilt, a system that facilitates seamless communication and synchronization between Gilt admin, distribution centers, and shipping companies.  As the second day drew to a close, my boss, Chris Hazlett, began to explain my role in this slick new messaging system that we were designing.  The start of that conversation went something like this:</p>
<p class="MsoNormal">Chris:              &ldquo;We&rsquo;d like you to put together a web app with the spring mvc In scala that makes ajax requests to a web server serving search results from a lucene search engine which you&rsquo;ll build and format the response with css and javascript,&rdquo;</p>
<p class="MsoNormal">Me: <span class="Apple-style-span">                 </span><span class="Apple-style-span">&ldquo;Um, yeah&hellip; What&rsquo;s a web server?”</span></p>
<p class="MsoNormal">Everyone:       “Oh boy.”</p>
<p class="MsoNormal">I had a lot to learn.  We spent the next half hour going over a lot of the concepts I was missing.  “web servers”, “model-view-controller”, “ajax”, and more.  Often these words would rest on a whole stack of other important concepts that I also did not yet understand. </p>
<p class="MsoNormal">            “What’s ajax?”<span class="Apple-style-span"> </span></p>
<p class="MsoNormal">“Oh, well its just the process of making asynchronous requests to a separate web server to dynamically fill in content on a webpage.  Don’t worry, you’ll just use jquery for that.”</p>
<p class="MsoNormal">“What’s jquery?” </p>
<p class="MsoNormal">“…a javascript library.” </p>
<p class="MsoNormal">“ What’s javascript?” </p>
<p class="MsoNormal">“…”</p>
<p class="MsoNormal">And so on.</p>
<p class="MsoNormal">My first few weeks at Gilt, I was very frustrated.  How could my computer science program have left me unprepared for industry?  Granted, my background is focused more on theory than systems.  I do research in algorithm design and until I began to learn languages outside of my classes, my strongest languages were Haskell and C.  But still, regardless of my theoretical focus, I was a computer science student, damn it.  What was I missing? </p>
<p class="MsoNormal">It gradually dawned on me that most of my frustrations could be reduced to two missing links in my CS education: object-orientation and the web.  These are two topics that are not strongly emphasized in traditional computer science programs.  I resented the fact that there were no web development topics covered in any classes at Dartmouth, and that instead I had been exposed to what now seemed to be esoteric, dated concepts. The hours spent in gdb sifting through hundreds of lines of C to fix elusive seg faults and memory leaks now seemed futile now.  The mind bending recursion, pointers, the linked lists, the hash tables, the mallocs, reallocs, the frees, ALL FOR WHAT!  After briefly wallowing in my sorrow, my boss reminded me that the whole reason I was here was to learn.  So I started to learn.</p>
<p class="MsoNormal">I spent my first weeks at Gilt learning new tools.  My browser was constantly filled with tabs on scala, git, lucene, css, and jquery.  The complexity of the problem assigned to me also became clearer.  I was being asked to build the full stack of a web app.  This meant writing everything from the css and javascript for the frontend, to the complex indexing and searching backend that would process and search new messages in real-time as they flowed through our messaging system.  Okay, fine. </p>
<p class="MsoNormal">In reality, once I overcame that initial shock and the task of setting up my development environment (surely a twisted form of tech hazing), the general learning process was much more painless than I had anticipated.  Most of the tools I was using were well documented, and when in doubt I had the most thorough and accessible form of documentation around: people!  I consulted frequently with folks in all different groups, front end, algorithms, distribution, etc.  As I learned the tools, my team was making fantastic headway on the new messaging system.  We moved into a small conference room to make collaboration and communication easier.  Danger Zone by Kenny Loggins became the natural theme of our industrious lair as we moved steadily towards the completion of our first iteration on the project. </p>
<p class="MsoNormal">Around this time, about halfway through my internship, the focus of my work in the office shifted from learning to building.  As I finally understood how tools like Lucene, Jquery, and Scala worked and how all the pieces of a full web-app stack fit together, I began to feel more at ease and developed much more efficiently.  I quickly made headway on the new user interface and the actor-based search engine library. </p>
<p class="MsoNormal">I also started to meet others outside of the tech team.  Settlers of Catan frequently occupied my Thursdays, volleyball occupied my Mondays, and occasionally there would be, <em>ahem, </em>modest company gatherings held in abandoned four-story tall synagogues.  The Friday of my second to last week with the company, I was able to present my final project to the rest of the tech team during the 5@4, which seemed well received.  All in all, it was clear that my work was going to have a lasting impact, and would make the distribution team’s job faster and easier.</p>
<p class="MsoNormal">            As my internship draws to a close, its now quite clear to me that the frustration I initially felt towards my computer science background was naïve.  A Computer Science degree is not supposed to be a vocational degree.  Computer Science is truly a science, and the point of studying it is to gain exposure to and mastery of the foundations.  Once you know how to <em>think </em>like a computer scientist, <em>learning </em>new tools in the field comes quite naturally.  That’s the idea, and thankfully, it works.  </p>

  </div>
  <div class="shareaholic-canvas" data-app="share_buttons" data-app-id="18213622"></div>

  

  <span class="separator">Tech</span>
</article>

<article>
  <span class="separator">MD Insider Tech</span>
  <h1><a href="/2011/12/05/gilt-apis">Gilt APIs</a></h1>
  
  <header>
    
    <time>05 December 2011</time>
    
  </header>

  <div class="content">
    <div>
<p>Over the next few months, Gilt will be exposing its data model via a new suite of public APIs. We&rsquo;re excited to make our data available to a broader audience of hackers, and we can&rsquo;t wait to see what people do with it.</p>
<p>Our first API is a set of Atom Pub feeds, which let you see our active and upcoming sales, either en masse, or store by store.</p>
<p>For example, <a href="https://api.gilt.com/v1/sales/active.atom" target="_blank">https://api.gilt.com/v1/sales/active.atom</a> shows all the active sales on gilt.com, or you can hit <a href="https://api.gilt.com/v1/sales/upcoming.atom" target="_blank">https://api.gilt.com/v1/sales/upcoming.atom</a> to see what sales are coming soon.</p>
<p>You can see just the active or upcoming sales for some of our stores as well, for example:</p>
<ul><li><a href="https://api.gilt.com/v1/sales/men/active.atom" target="_blank">https://api.gilt.com/v1/sales/men/active.atom</a></li>
<li><a href="https://api.gilt.com/v1/sales/women/active.atom" target="_blank">https://api.gilt.com/v1/sales/women/active.atom</a></li>
<li><a href="https://api.gilt.com/v1/sales/kids/active.atom" target="_blank">https://api.gilt.com/v1/sales/kids/active.atom</a></li>
<li><a href="https://api.gilt.com/v1/sales/home/active.atom" target="_blank">https://api.gilt.com/v1/sales/home/active.atom</a></li>
</ul><p>All our available feeds can be concisely written using a regex:</p>
<pre><a href="https://api.gilt.com/v1/sales" target="_blank">https://api.gilt.com/v1/sales</a>(/men|/women|/kids|/home)?/(active|upcoming).atom</pre>
<p>We&rsquo;ll be rolling out more details soon; this is our first toe in the water.</p>
<p>Enjoy!</p>
<p>- Gilt API Team</p>
</div>

  </div>
  <div class="shareaholic-canvas" data-app="share_buttons" data-app-id="18213622"></div>

  

  <span class="separator">Tech</span>
</article>

<article>
  <span class="separator">MD Insider Tech</span>
  <h1><a href="/2011/11/28/movember-at-gilt-here-at-gilt-we-care-about-each">movember at gilt here at gilt we care about each</a></h1>
  
  <header>
    
    <time>28 November 2011</time>
    
  </header>

  <div class="content">
    <img src="/tumblr_files/tumblr_lvel1jqcLl1qgexq2o1_1280.jpg"/><br/><p>Movember at GILT.</p>
<p>Here at GILT we care about each other. Therefore, we (those who can) have been growing mustaches for the month of Movember. Why? To support the fight against cancer.</p>
<p>We can all change our faces, by growing mustaches, so let&rsquo;s change the results of cancer. One in two men and one in three women will be diagnosed with cancer in their lifetime, so let&rsquo;s change the result of this.</p>
<p>You can make your donation here, <a href="http://mobro.co/gilt." target="_blank">http://mobro.co/gilt.</a></p>

  </div>
  <div class="shareaholic-canvas" data-app="share_buttons" data-app-id="18213622"></div>

  
  <section class="tags">


    

    
      
    <a href="/tags.html#movember-ref">movember <span>1</span></a>
      
    <a href="/tags.html#gilt-ref">gilt <span>87</span></a>
      
    <a href="/tags.html#gilttech-ref">gilttech <span>332</span></a>
      
    <a href="/tags.html#work culture-ref">work culture <span>20</span></a>
      
    <a href="/tags.html#photos-ref">photos <span>7</span></a>
      
    

  </section>
  

  <span class="separator">Tech</span>
</article>

<article>
  <span class="separator">MD Insider Tech</span>
  <h1><a href="/2011/10/25/gilt-home-launch">Gilt Home Launch</a></h1>
  
  <header>
    
    <time>25 October 2011</time>
    
  </header>

  <div class="content">
    <p>
<object width="480" height="375">
<param name="flashvars" value="offsite=true&amp;lang=en-us&amp;page_show_url=%2Fphotos%2Fgilttech%2Ftags%2Fgilthomelaunch%2Fshow%2F&amp;page_show_back_url=%2Fphotos%2Fgilttech%2Ftags%2Fgilthomelaunch%2F&amp;user_id=60172469@N07&amp;tags=gilthomelaunch&amp;jump_to=&amp;start_index="><param name="movie" value="http://www.flickr.com/apps/slideshow/show.swf?v=107931"><param name="allowFullScreen" value="true"><embed type="application/x-shockwave-flash" src="http://www.flickr.com/apps/slideshow/show.swf?v=107931" allowfullscreen="true" flashvars="offsite=true&amp;lang=en-us&amp;page_show_url=%2Fphotos%2Fgilttech%2Ftags%2Fgilthomelaunch%2Fshow%2F&amp;page_show_back_url=%2Fphotos%2Fgilttech%2Ftags%2Fgilthomelaunch%2F&amp;user_id=60172469@N07&amp;tags=gilthomelaunch&amp;jump_to=&amp;start_index=" width="480" height="375"></embed></object>
</p>

  </div>
  <div class="shareaholic-canvas" data-app="share_buttons" data-app-id="18213622"></div>

  

  <span class="separator">Tech</span>
</article>


<div class="pager">
  
    <a href="/posts/59/" class="fa fa-chevron-left prev" title="Previous"></a>
  
  <span class="count">Page 60 of 64</span>
  
    <a href="/posts/61/" class="fa fa-chevron-right next" title="Next"></a>
  
</div>

  </div>
</div>


      </section>
      <footer>
        <nav>
  <span>
    <a href="http://www.mdinsider.com/careers/">Join MD Insider Tech</a>
    <a href="http://mdinsider.com">MDInsider.com</a>
  </span>
</nav>

        <section id="copyright">
          &copy; 2015 MDInsider, Inc. &bull; <a href="/archive.html">Archives</a>
        </section>
      </footer>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="/assets/themes/gilt/js/main.js"></script>
  </body>
</html>

